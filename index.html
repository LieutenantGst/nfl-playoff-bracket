<script>
// ... (keep your teams object as-is, seeds match reality)

let bracketData = {
    afc: {
        wildCard: { game1: null, game2: null, game3: null },
        divisional: { game1: null, game2: null },
        championship: null
    },
    nfc: {
        wildCard: { game1: null, game2: null, game3: null },
        divisional: { game1: null, game2: null },
        championship: null
    },
    superBowl: null
};

// Real ESPN/current fixed WC winners (all games done)
const fixedPicks = {
    "afc-wc-1": "New England Patriots",   // 2 vs 7 (beat LAC)
    "afc-wc-2": "Buffalo Bills",          // 3 vs 6? Wait, your mapping was 3v6=Jaguars vs Bills, Bills won
    "afc-wc-3": "Houston Texans",         // 4 vs 5 Steelers vs Texans, Texans won
    "nfc-wc-1": "Chicago Bears",          // 2 vs 7 Packers @ Bears, Bears won
    "nfc-wc-2": "San Francisco 49ers",    // 3 vs 6 Eagles vs 49ers, 49ers won
    "nfc-wc-3": "Los Angeles Rams"        // 4 vs 5 Panthers vs Rams, Rams won
};

// Pre-fill all WC
bracketData.afc.wildCard.game1 = fixedPicks["afc-wc-1"];
bracketData.afc.wildCard.game2 = fixedPicks["afc-wc-2"];
bracketData.afc.wildCard.game3 = fixedPicks["afc-wc-3"];
bracketData.nfc.wildCard.game1 = fixedPicks["nfc-wc-1"];
bracketData.nfc.wildCard.game2 = fixedPicks["nfc-wc-2"];
bracketData.nfc.wildCard.game3 = fixedPicks["nfc-wc-3"];

// Optional: Pre-pick nothing for divisional/champ (users pick), or add defaults if you want

// ... keep createTeamElement, createGameElement mostly same, but in buildBracket:

// In buildBracket, for divisional round, we'll override in updateBracket to use real opponents

// Add this function to force real divisional matchups
function applyRealDivisional(conference) {
    if (conference === 'afc') {
        // Real: Broncos (1) vs Bills (6); Patriots (2) vs Texans (5)
        bracketData.afc.divisional.game1 = null; // let user pick Broncos vs Bills
        bracketData.afc.divisional.game2 = null; // Patriots vs Texans
    } else {
        // Real: Seahawks (1) vs 49ers (6); Bears (2) vs Rams (5)
        bracketData.nfc.divisional.game1 = null;
        bracketData.nfc.divisional.game2 = null;
    }
}

// Modified updateBracket to use real opponents instead of seed sorting for divisional
function updateBracket(conference) {
    const data = bracketData[conference];
    
    // Divisional Round - force real matchups (ignore seed sorting for accuracy)
    const div1 = document.getElementById(`${conference}-div-1`);
    const div2 = document.getElementById(`${conference}-div-2`);
    
    if (conference === 'afc') {
        // Game1: Broncos #1 vs Bills #6
        div1.innerHTML = '';
        div1.appendChild(createTeamElement(teams.afc[0], `${conference}-div-1`, 'divisional', conference)); // Broncos
        const bills = teams.afc.find(t => t.name === "Buffalo Bills");
        div1.appendChild(createTeamElement(bills, `${conference}-div-1`, 'divisional', conference));
        
        // Game2: Patriots #2 vs Texans #5
        div2.innerHTML = '';
        const pats = teams.afc.find(t => t.name === "New England Patriots");
        const texans = teams.afc.find(t => t.name === "Houston Texans");
        div2.appendChild(createTeamElement(pats, `${conference}-div-2`, 'divisional', conference));
        div2.appendChild(createTeamElement(texans, `${conference}-div-2`, 'divisional', conference));
    } else {
        // NFC Game1: Seahawks #1 vs 49ers #6
        div1.innerHTML = '';
        div1.appendChild(createTeamElement(teams.nfc[0], `${conference}-div-1`, 'divisional', conference)); // Seahawks
        const niners = teams.nfc.find(t => t.name === "San Francisco 49ers");
        div1.appendChild(createTeamElement(niners, `${conference}-div-1`, 'divisional', conference));
        
        // Game2: Bears #2 vs Rams #5
        div2.innerHTML = '';
        const bears = teams.nfc.find(t => t.name === "Chicago Bears");
        const rams = teams.nfc.find(t => t.name === "Los Angeles Rams");
        div2.appendChild(createTeamElement(bears, `${conference}-div-2`, 'divisional', conference));
        div2.appendChild(createTeamElement(rams, `${conference}-div-2`, 'divisional', conference));
    }
    
    // Restore any user picks if set
    if (data.divisional.game1) {
        const sel = div1.querySelector(`[data-name="${data.divisional.game1}"]`);
        if (sel) sel.classList.add('selected');
    }
    if (data.divisional.game2) {
        const sel = div2.querySelector(`[data-name="${data.divisional.game2}"]`);
        if (sel) sel.classList.add('selected');
    }
    
    // Championship and rest same as before...
    // (keep your existing champ logic, using div winners)
    
    // ... rest of updateBracket (championship populating from div winners, etc.)
}

// In handleSelection, after updating data, call updateBracket(conference);

// Add a button to reload ESPN/current state
function loadEspnCurrent() {
    // Re-apply fixed WC and real div matchups
    bracketData.afc.wildCard.game1 = fixedPicks["afc-wc-1"];
    bracketData.afc.wildCard.game2 = fixedPicks["afc-wc-2"];
    bracketData.afc.wildCard.game3 = fixedPicks["afc-wc-3"];
    bracketData.nfc.wildCard.game1 = fixedPicks["nfc-wc-1"];
    bracketData.nfc.wildCard.game2 = fixedPicks["nfc-wc-2"];
    bracketData.nfc.wildCard.game3 = fixedPicks["nfc-wc-3"];
    
    // Clear future picks so users can re-pick
    bracketData.afc.divisional = { game1: null, game2: null };
    bracketData.nfc.divisional = { game1: null, game2: null };
    bracketData.afc.championship = null;
    bracketData.nfc.championship = null;
    bracketData.superBowl = null;
    
    applyStoredWildCardSelections('afc');
    applyStoredWildCardSelections('nfc');
    updateBracket('afc');
    updateBracket('nfc');
    updateSuperBowl();
    updateSuperBowlWinner();
}

// ... keep other functions

// At end of script, after buildBracket calls:
buildBracket('afc');
buildBracket('nfc');
loadEspnCurrent();  // Auto-load real current on start
</script>
